@layer components {
  .hud-panel {
    border-radius: 0;
    border: 1px solid rgba(var(--accent-rgb), 0.4);
    background: var(--panel-core);
    backdrop-filter: blur(12px);
    box-shadow:
      0 0 0 1px rgba(var(--accent-rgb), 0.1),
      0 0 26px rgba(var(--accent-rgb), 0.12),
      0 22px 40px var(--depth-shadow),
      inset 0 1px 0 var(--bevel-light),
      inset 0 -16px 24px var(--bevel-dark);
    position: relative;
    overflow: hidden;
    clip-path: polygon(
      var(--hud-cut-sm) 0,
      calc(100% - var(--hud-cut-sm)) 0,
      100% var(--hud-cut-sm),
      100% calc(100% - var(--hud-cut-sm)),
      calc(100% - var(--hud-cut-sm)) 100%,
      var(--hud-cut-sm) 100%,
      0 calc(100% - var(--hud-cut-sm)),
      0 var(--hud-cut-sm)
    );
  }

  .hud-panel-strong {
    border-radius: 0;
    border: 1px solid rgba(var(--accent-rgb), 0.5);
    background: var(--panel-core-strong);
    backdrop-filter: blur(12px);
    box-shadow:
      0 0 0 1px rgba(var(--accent-rgb), 0.14),
      0 0 30px rgba(var(--accent-rgb), 0.18),
      0 24px 44px var(--depth-shadow-strong),
      inset 0 1px 0 var(--bevel-light),
      inset 0 -18px 28px var(--bevel-dark);
    position: relative;
    overflow: hidden;
    clip-path: polygon(
      var(--hud-cut-sm) 0,
      calc(100% - var(--hud-cut-sm)) 0,
      100% var(--hud-cut-sm),
      100% calc(100% - var(--hud-cut-sm)),
      calc(100% - var(--hud-cut-sm)) 100%,
      var(--hud-cut-sm) 100%,
      0 calc(100% - var(--hud-cut-sm)),
      0 var(--hud-cut-sm)
    );
  }

  .hud-glass {
    border-radius: 0;
    border: 1px solid rgba(var(--accent-rgb), 0.35);
    background: rgba(2, 10, 20, 0.8);
    backdrop-filter: blur(16px);
    box-shadow:
      inset 0 1px 0 var(--bevel-light),
      inset 0 -10px 16px var(--bevel-dark),
      0 12px 22px var(--depth-shadow);
    clip-path: polygon(
      var(--hud-cut-sm) 0,
      calc(100% - var(--hud-cut-sm)) 0,
      100% var(--hud-cut-sm),
      100% calc(100% - var(--hud-cut-sm)),
      calc(100% - var(--hud-cut-sm)) 100%,
      var(--hud-cut-sm) 100%,
      0 calc(100% - var(--hud-cut-sm)),
      0 var(--hud-cut-sm)
    );
  }

  .panel-shell {
    position: relative;
    border-radius: 0;
    border: 1px solid rgba(var(--accent-rgb), 0.4);
    background: var(--panel-core);
    backdrop-filter: blur(12px);
    box-shadow:
      0 0 0 1px rgba(var(--accent-rgb), 0.1),
      0 0 30px rgba(var(--accent-rgb), 0.12),
      0 22px 40px var(--depth-shadow),
      inset 0 1px 0 var(--bevel-light),
      inset 0 -18px 28px var(--bevel-dark);
    overflow: hidden;
    isolation: isolate;
    transform: translateZ(var(--panel-depth, 16px));
    transform-style: preserve-3d;
    backface-visibility: hidden;
    clip-path: polygon(
      var(--hud-cut-sm) 0,
      calc(100% - var(--hud-cut-sm)) 0,
      100% var(--hud-cut-sm),
      100% calc(100% - var(--hud-cut-sm)),
      calc(100% - var(--hud-cut-sm)) 100%,
      var(--hud-cut-sm) 100%,
      0 calc(100% - var(--hud-cut-sm)),
      0 var(--hud-cut-sm)
    );
  }

  .panel-shell::before {
    content: "";
    position: absolute;
    inset: 8px;
    border: 1px solid rgba(var(--line-rgb), 0.25);
    clip-path: polygon(
      var(--hud-cut-xs) 0,
      calc(100% - var(--hud-cut-xs)) 0,
      100% var(--hud-cut-xs),
      100% calc(100% - var(--hud-cut-xs)),
      calc(100% - var(--hud-cut-xs)) 100%,
      var(--hud-cut-xs) 100%,
      0 calc(100% - var(--hud-cut-xs)),
      0 var(--hud-cut-xs)
    );
    pointer-events: none;
    z-index: 0;
  }

  .panel-shell > * {
    position: relative;
    z-index: 1;
  }

  .panel-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 12px 16px;
    border-bottom: 1px solid rgba(var(--line-rgb), 0.3);
    background: rgba(2, 10, 20, 0.6);
  }

  .panel-title {
    font-family: var(--font-display);
    font-size: 0.85rem;
    text-transform: uppercase;
    letter-spacing: 0.24em;
    color: var(--text-primary);
    text-shadow: 0 0 12px rgba(var(--accent-rgb), 0.3);
  }

  .panel-subtitle {
    font-size: 0.65rem;
    color: var(--text-tertiary);
    text-transform: uppercase;
    letter-spacing: 0.16em;
  }

  .panel-content {
    padding: 16px;
    min-height: 0;
    flex: 1;
  }

  .panel-actions {
    display: flex;
    gap: 8px;
    align-items: center;
  }

  .view {
    display: none;
    min-height: 0;
    height: 100%;
  }

  .view.is-active {
    display: grid;
  }

  .view-stack {
    display: grid;
    gap: 10px;
  }

  .view-line {
    display: flex;
    gap: 6px;
    align-items: center;
    font-size: 0.8rem;
    color: var(--text-secondary);
  }

  .view-line strong {
    color: var(--text-primary);
  }

  .view-hint {
    font-size: 0.75rem;
    color: var(--text-tertiary);
    text-transform: uppercase;
    letter-spacing: 0.14em;
  }
}
